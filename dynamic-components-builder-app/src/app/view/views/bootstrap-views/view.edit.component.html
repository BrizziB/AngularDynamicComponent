<div id="view-edit-container">
    <div class="d-flex justify-content-between ">
        <div class="p-2">
          <h2 class="font-weight-bold">Creazione Vista</h2>
        </div>
        <div class="p-2 btn-group-sm" role="group">
          <button (click)="closeViewerEditor()"  class=" btn-sm btn-light">
              Annulla <i class="fas fa-step-backward"></i>
          </button>
          <button (click)="validateViewer()"  class=" btn-sm btn-info">
              Valida <i class="fas fa-check"></i>
          </button>
          <button  *ngIf="typeName && generated" (click)="getPreview()" data-toggle="modal" data-target="#modalPreview" class="btn-sm btn-info">
              Anteprima <i class="fas fa-desktop"></i>
          </button>
          <button *ngIf="viewName && typeName && generated" (click)="saveViewer()"  class=" btn-sm btn-primary">
              Salva <i class="fas fa-step-forward"></i>
          </button>
        </div>
      </div>
      <hr/>
      <div id="view-options-div">
          <div class="d-flex justify-content-start align-content-center input-form">
            <label for="name" >*Nome</label>
            <input type="name" class="form-control" id="name"
            placeholder="Inserisci Nome" [(ngModel)]="viewName">
          </div>
          <div class="d-flex justify-content-start align-content-center input-form" id="type-selector">
            <label>Applica a</label>
            <select class="form-control" [(ngModel)]="typeName">
                <option> </option>
                <option *ngFor="let type of typeList" [ngValue]="type.label">{{type.label}}</option>
            </select>
              <div *ngIf="typeName" class="dropdown">
                  <button type="button" id="genera-btn" class="btn-sm btn-light dropdown-toggle" data-toggle="dropdown">
                    Genera..
                  </button>
                  <div class="dropdown-menu">
                    <a class="dropdown-item btn-sm btn-primary" (click)="getViewerEdit()" href="#">Edit</a>
                    <a class="dropdown-item btn-sm btn-primary" (click)="getViewerOutput()" href="#">Output</a>
                  </div>
                </div>
          </div>
      </div>

      <ul class="nav nav-tabs" role="tablist">
          <li class="nav-item">
            <a class="nav-link active bold-nav" data-toggle="tab" href="#def">*Definizione</a>
          </li>
          <li class="nav-item">
            <a class="nav-link bold-nav" data-toggle="tab" href="#css">CSS</a>
          </li>
      </ul>
      <div class="tab-content">
          <div id="def" class="container tab-pane active">
            <textarea [value]='dslContent'> </textarea>
          </div>
          <div id="css" class="container tab-pane fade">
            <textarea [value]='CSSContent'> </textarea>
          </div>
      </div>


</div>

<!-- <div *ngIf="showDynamicalViewer" id="dynamical-viewer" >
  <app-dyn-viewer [typeName]="this.typeName" (closeClick)="showDynamicalViewer=false"></app-dyn-viewer>
</div> -->

<div *ngIf="showDynamicalViewer" class="modal fade" id="modalPreview">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">{{this.typeName}}</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <app-dyn-boot-viewer [typeName]="this.typeName" [viewType]="style" ></app-dyn-boot-viewer>
          </div>
      </div>
    </div>
  </div>


